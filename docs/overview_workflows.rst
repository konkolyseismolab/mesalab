.. _overview_workflows:

Overview of mesalab Workflows
=============================

``mesalab`` is designed to streamline the post-processing and analysis of stellar evolution simulations performed with `MESA <https://docs.mesastar.org/>`_. Its primary goal is to transform raw MESA output into readily usable data and insightful visualizations, significantly reducing the need for manual data handling.

At its core, ``mesalab`` orchestrates a series of interconnected workflows, each dedicated to a specific stage of the analysis. These workflows are executed in a predefined sequence to ensure data integrity and logical progression.

The main workflows in ``mesalab`` are:

1.  MESA Run Analysis Workflow
2.  Plotting Workflow
3.  GYRE Workflow (Optional)

Each of these workflows can be enabled or disabled independently via your `YAML configuration file <./yaml_config.rst>`_. This modularity allows you to tailor ``mesalab``'s execution to your specific needs, whether you want to run a full analysis pipeline or just a subset of operations.

How the Workflows Interconnect
------------------------------

The workflows in ``mesalab`` generally follow a sequential dependency:

.. image:: ../_static/mesalab_workflow_diagram.png
   :alt: mesalab Workflow Diagram
   :align: center
   :width: 70%

1.  **MESA Run Analysis Workflow:**
    This is typically the **first step**. It takes your raw MESA output files (history and profile data) and processes them. It extracts key stellar parameters, identifies significant evolutionary phases (like instability strip crossings or blue loops), and creates structured data summaries (e.g., in CSV format). This processed data then serves as the primary input for subsequent workflows.

2.  **Plotting Workflow:**
    This workflow **depends on the output of the MESA Run Analysis**. It takes the summarized and processed data to generate various types of plots, such as Hertzsprung-Russell (HR) diagrams, instability strip heatmaps, and blue loop visualizations. It helps you visually explore the evolutionary tracks and pulsation properties of your MESA models.

3.  **GYRE Workflow (Optional):**
    This workflow **can depend on specific profile data generated by the MESA Run Analysis**. If enabled, ``mesalab`` prepares selected MESA stellar profiles for the `GYRE <https://gyre.readthedocs.io/>`_ pulsation code. It then executes GYRE, processes its output, and provides data on pulsation frequencies and stability. This workflow is optional and requires a separate installation of the GYRE code on your system.

By understanding these interdependencies, you can effectively configure and utilize ``mesalab`` to automate your stellar modeling analysis tasks. Proceed to the dedicated sections for a detailed description of each workflow.
